import unittest

from Map_Generated import Game
class MinesweeperTest(unittest.TestCase):
       def test_One_Click_Move(self):
              array = [['-','X', '-','-','X','-'],['-','-','X','-','-','-'],['-','-','-','-','X','-'],['-','-','-','X','-','X'],['-','X','-','-','X','-'],['-','-','-','-','-','-']]
              ans = [(2, 3), (4, 3), (3, 2), (3, 4)]
              for i in range(4):
                     moves = [[0,0,0,0,0,0], [0,0,0,0,0,0], [0,0,0,0,0,0], [0,0,0,0,0,0]]
                     moves[1][i] = 1
                     moves[2][i] = 2
                     [x, y, d, m] = Game(array, moves)
                     # out = [['-','X', 'H','-','X','-'],['-','-','X','-','-','-'],['-','-','-','-','X','-'],['-','-','-','X','-','X'],['-','X','-','-','X','-'],['-','-','-','-','-','-']]
                     self.assertEqual((x, y), ans[i])

       def test_simultaneous(self):
              array = [['-','X', '-','-','X','-'],['-','-','X','-','-','-'],['-','-','-','-','X','-'],['-','-','-','X','-','X'],['-','X','-','-','X','-'],['-','-','-','-','-','-']]
              ans = [(2, 3), (4, 3), (3, 2), (3, 4)]
              moves = [[0,0,0,0,0,0], [1,0,0,0,0,0], [1,1,0,0,0,0], [0,1,0,0,0,0], [0,0,0,0,0,0]]
              [x, y, d, m] = Game(array, moves)
              # out = [['-','X', 'H','-','X','-'],['-','-','X','-','-','-'],['-','-','-','-','X','-'],['-','-','-','X','-','X'],['-','X','-','-','X','-'],['-','-','-','-','-','-']]
              self.assertEqual((x, y), (2, 3))
       
       def test_center_click(self):
              array = [['-','X', '-','-','X','-'],['-','-','X','-','-','-'],['-','-','-','-','X','-'],['-','-','-','X','-','X'],['-','X','-','-','X','-'],['-','-','-','-','-','-']]
              moves = [[0,0,0,0,0,0], [0,0,0,0,1,0], [0,0,0,0,1,0], [0,0,0,0,0,0]]
              [x, y, d, m] = Game(array, moves)
              self.assertEqual(m[x][y], '?')
              print(m)
       
       def test_center_click_twice(self):
              array = [['-','X', '-','-','X','-'],['-','-','X','-','-','-'],['-','-','-','-','X','-'],['-','-','-','X','-','X'],['-','X','-','-','X','-'],['-','-','-','-','-','-']]
              moves = [[0,0,0,0,0,0], [0,0,0,0,1,0], [0,0,0,0,1,0], [0,0,0,0,0,0], [0,0,0,0,0,0], [0,0,0,0,1,0], [0,0,0,0,1,0], [0,0,0,0,0,0]]
              [x, y, d, m] = Game(array, moves)
              self.assertEqual(m[x][y], '-')
              print(m)
       
       def test_center_double_click(self):
              array = [['-','X', '-','-','X','-'],['-','-','X','-','-','-'],['-','-','-','-','X','-'],['-','-','-','X','-','X'],['-','X','-','-','X','-'],['-','-','-','-','-','-']]
              moves = [[0,0,0,0,0,0], [0,0,0,0,1,0], [0,0,0,0,1,0], [0,0,0,0,0,1], [0,0,0,0,1,1], [0,0,0,0,0,1]]
              [x, y, d, m] = Game(array, moves)
              self.assertEqual(m[x][y], 'X')
              self.assertEqual(d, 1)
              print(m)


if __name__ == '__main__':
    unittest.main()
